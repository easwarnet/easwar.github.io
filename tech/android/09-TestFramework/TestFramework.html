<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TestFramework &mdash; Easwarnet  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Os - RTOS" href="../../os-rtos.html" />
    <link rel="prev" title="AppCoreComponents" href="../08-AppCoreComponents/AppCoreComponents.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Easwarnet
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">C++</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cpp-smartptr.html">C++ - Smart Pointer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp-inheritence.html">C++ - Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp-container.html">C++ - Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp-stdlib.html">C++ - StdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp-general.html">C++ - General</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AOSP Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../aosp-general.html">AOSP - General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aosp-haltheory.html">AOSP - Theory of HAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aosp-ipc.html">AOSP - IPC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">OS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../linux-posix.html">Linux - Posix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../linux-commands.html">Linux - Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../os-general.html">Os - General Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AOSP Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01-Introduction/Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-AndroidBuildSystem/AndroidBuildSystem.html">AndroidBuildSystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-AndroidTools/AndroidTools.html">AndroidTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-SoftwareUpdate/SoftwareUpdate.html">Flashing Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-BootAndPartitions/BootAndPartitions.html">BootAndPartitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06-NativeAppDevelopment/NativeAppDevelopment.html">NativeAppDevelopment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07-AndroidIPC/AndroidIPC.html">AndroidIPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08-AppCoreComponents/AppCoreComponents.html">AppCoreComponents</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">TestFramework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#android-cts"><strong>Android CTS</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#steps">Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#block-diagram">Block Diagram:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reference">Reference:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#android-vts"><strong>Android VTS</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#official-plans">Official Plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">Reference:</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Embedded Beginner</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../os-rtos.html">Os - RTOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../c-pointers.html">C - Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../c-funcpointers.html">C - Function Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../c-general.html">C - General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../c-basicalgo.html">C - Basic Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../c-tricks.html">C - Tricks and Others</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Easwarnet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>TestFramework</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="testframework">
<h1>TestFramework<a class="headerlink" href="#testframework" title="Permalink to this heading"></a></h1>
<section id="android-cts">
<h2><strong>Android CTS</strong><a class="headerlink" href="#android-cts" title="Permalink to this heading"></a></h2>
<p>The Compatibility Test Suite (CTS) is a downloadable testing suite that tests the compatility of the Target Hardware. The CTS runs on a desktop machine and executes test cases directly on attached devices or an emulator. Once the test is completes and the hardware compatilibility is achieved, the test report needs to be submitted to <code class="docutils literal notranslate"><span class="pre">cts&#64;android.com</span></code>, requesting access to the Market.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/cts1.png"><img alt="../../_images/cts1.png" src="../../_images/cts1.png" style="width: 904.0px; height: 102.0px;" /></a>
</figure>
</section>
<section id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Download CTS from <code class="docutils literal notranslate"><span class="pre">https://source.android.com/docs/compatibility/cts/downloads</span></code></p></li>
<li><p>Connect the target hardware device through adb. Ensure device is visible via ‘adb devices’</p></li>
<li><p>CTS can also be locally built using command</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ make cts -j <span class="nv">TARGET_PRODUCT</span><span class="o">=</span>aosp_arm64
</pre></div>
</div>
<ul class="simple">
<li><p>Launch the cts console</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ out/host/linux-x86/cts/android-cts/tools/cts-tradefed
</pre></div>
</div>
<ul class="simple">
<li><p>Run the default CTS plan</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cts-tradefed &gt; run cts
</pre></div>
</div>
<ul class="simple">
<li><p>To run a test module</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cts-tradefed &gt; run cts --module &lt;module_name&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>To run a specific test</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cts-tradefed &gt; run cts --module &lt;module_name&gt; --test &lt;test_name&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>CTS Help</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cts-tradefed &gt; run cts --help
</pre></div>
</div>
</section>
<section id="block-diagram">
<h2>Block Diagram:<a class="headerlink" href="#block-diagram" title="Permalink to this heading"></a></h2>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/cts2.png"><img alt="../../_images/cts2.png" src="../../_images/cts2.png" style="width: 766.0px; height: 375.0px;" /></a>
</figure>
</section>
<section id="reference">
<h2>Reference:<a class="headerlink" href="#reference" title="Permalink to this heading"></a></h2>
<p>[1]: <code class="docutils literal notranslate"><span class="pre">https://source.android.com/docs/compatibility/cts/run</span></code></p>
<p>[2]: <code class="docutils literal notranslate"><span class="pre">https://android.googlesource.com/platform/cts/+/android-o-mr1-iot-release-1.0.0/tools/cts-tradefed/README</span></code></p>
</section>
<hr class="docutils" />
<section id="android-vts">
<h2><strong>Android VTS</strong><a class="headerlink" href="#android-vts" title="Permalink to this heading"></a></h2>
<p>Android-VTS (Vendor Test Suite) is an infrastructure that automates HAL and OS kernel testing. Android-VTS provides extensive functionality for Android testing and promotes a test-driven development process. Use this tag for questions referring to building, writing and using Android-VTS to test an Android native system implementation.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../../_images/vts.png"><img alt="../../_images/vts.png" src="../../_images/vts.png" style="width: 675.0px; height: 443.0px;" /></a>
</figure>
</section>
<section id="id1">
<h2>Steps<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<p>1. Setup VTS test environment, Python and Protocol Buffer Packages
Install Python and Protocol Buffer tools</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install python-dev
$ sudo apt-get install python-protobuf
$ sudo apt-get install protobuf-compiler
</pre></div>
</div>
<p>Install Python virtual environment</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install python-virtualenv
$ sudo apt-get install python-pip
</pre></div>
</div>
<p>Setup Environment</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ . test/vts/script/setup.sh
$ . test/vts/script/build-python.sh
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Download Android Source Code</p></li>
<li><p>Build an Android image</p></li>
<li><p>Build a VTS package</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> <span class="si">${</span><span class="nv">branch</span><span class="si">}</span>
$ make vts -j8
<span class="c1">### Equivalent command</span>
$ make -j8 vts showcommands dist <span class="nv">TARGET_PRODUCT</span><span class="o">=</span>aosp_arm64 <span class="nv">WITH_DEXPREOPT</span><span class="o">=</span><span class="nb">false</span> <span class="nv">TARGET_BUILD_VARIANT</span><span class="o">=</span>userdebug
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Connect to an Android device after enabling debugger mode</p></li>
<li><p>Run a VTS test plan</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ vts-tradefed
<span class="c1">### After VTS console opens</span>
&gt; run vts
<span class="c1">### Advanced Module level VTS execution</span>
&gt; run &lt;plan&gt; -m &lt;module&gt; -t &lt;packageName.className&gt;
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>VTS Test Report</p></li>
</ol>
<p>The uploadable report xml file can be found at: <code class="docutils literal notranslate"><span class="pre">out/host/linux-x86/vts/android-vts/results/</span></code></p>
<ol class="arabic simple" start="8">
<li><p>Check the test logs</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ ls out/host/linux-x86/vts/android-vts/logs/
</pre></div>
</div>
</section>
<section id="official-plans">
<h2>Official Plans<a class="headerlink" href="#official-plans" title="Permalink to this heading"></a></h2>
<p>Official plans contain only verified tests, and are for all Android developers and partners.</p>
<p>vts: For all default VTS tests.
vts-firmware: For all default VTS System Firmware tests.
vts-fuzz: For all default VTS fuzz tests.
vts-hal: For all default VTS HAL (hardware abstraction layer) module tests.
vts-hal-profiling: For all default VTS HAL performance profiling tests.
vts-hal-replay: For all default VTS HAL replay tests.
vts-kernel: For all default VTS kernel tests.
vts-library: For all default VTS library tests.
vts-performance: For all default VTS performance tests</p>
</section>
<section id="id2">
<h2>Reference:<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<p>[1]: <code class="docutils literal notranslate"><span class="pre">https://android.googlesource.com/platform/test/vts/+/fb7d768d295720d9edfca8c9c1e215ac631f3bc6/doc/user_manual.md</span></code></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../08-AppCoreComponents/AppCoreComponents.html" class="btn btn-neutral float-left" title="AppCoreComponents" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../os-rtos.html" class="btn btn-neutral float-right" title="Os - RTOS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Easwarnet.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>