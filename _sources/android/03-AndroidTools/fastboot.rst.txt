03-AndroidTools - Fastboot 
==================================
Fastboot is a protocol and a tool of the same name. It is included with the Android SDK package used primarily to modify the flash filesystem via a USB connection from a host computer. It requires that the device be started in Fastboot mode. If the mode is enabled, it will accept a specific set of commands sent to it via USB using a command line. Fastboot allows to boot from a custom recovery image. Fastboot does not require USB debugging to be enabled on the device. Not all Android devices have fastboot enabled. To use fastboot, a specific combination of keys must be held during boot.

Useful Commands for Flashing Android
--------------------------------------
1. Check List of Connected Devices:

.. code-block:: shell
    
    $ adb devices

2. Boot into bootloader mode:
This step will enable the device boot into fastboot mode.

.. code-block:: shell

    $ adb reboot bootloader

3. Check connected devices in Fastboot mode:

.. code-block:: shell

    $ fastboot devices

4. Flashing All Partitions:

.. code-block:: shell

    $ fastboot flashall

5. Erase or Format Partition:
Format Userdata Partition

.. code-block:: shell

    $ fastboot format:ext4 userdata

6. Flashing All Partitions from Zip File
This steps is used for flashing a custom ROM that is available in the form of a ZIP file containing all the image files:

format::

    $ fastboot update <zip_containing_all_androidimages>.zip
    ----------------------------------------------
    Bootloader Version...: BootloaderVersion
    Baseband Version.....: BasebandVersion
    Serial Number........:
    ----------------------------------------------
    Checking 'product'
    OKAY [ 0.000s ] Setting current slot to 'a'
    OKAY [ 0.0115] Sending 'boot_a' (32768 KB)
    OKAY [ 1.2965] Writing 'boot_a'
    OKAY [ 0.157s] Sending 'dtbo_a' (8192 KB)
    OKAY [ 0.3075] Writing 'dtbo_a'
    OKAY [ 0.042s] Sending 'vbmeta_a' (4 KB)
    OKAY [ 0.0095] Writing 'vbmeta_a'
    OKAY [ 0.001s] Sending sparse 'system_a' 1/3 (524284 KB)
    OKAY [ 12.7025] Writing 'system_a'
    OKAY [ 0.000s] Sending sparse 'system_a' 2/3 (524284 KB)
    OKAY [ 14.8465] Writing 'system_a'
    OKAY [ 0.001s] Sending sparse 'system_a' 3/3 (42204 KB)
    OKAY [ 3.47751 Writing 'system_a'
    OKAY [ 0.000s] Sending system_b' (82736 KB)
    OKAY [ 1.9635] Writing 'system_b'
    OKAY [ 0.001s] Sending 'vendor_a' (357093 KB)
    OKAY [ 8.465s ] Writing 'vendor_a'
    OKAY [ 0.001s] Erasing 'userdata'
    OKAY [ 0.7235] mke2fs 1.45.4 (23-Sep-2019) Creating filesystem with 13933563 4k blocks and 3489792 inodes Filesystem UUID: 4ala13e4-990a-11ea-809b-9b806a091fe2 Superblock backups stored on blocks:
    32768, 98384, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624, 11239424
    Allocating group tables: done Writing inode tables: done Creating journal (65536 blocks): done Writing superblocks and filesystem accounting information: done
    Sending 'userdata' (316 KB) Writing 'userdata' Rebooting Finished. Total time: 103.4905 PS C:\>
    OKAY [ 0.0115] OKAY [ 0.001s] OKAY [ 0.0005]

7. Erase or Format Partition:
Format Userdata Partition

.. code-block:: shell

    $ fastboot format:ext4 userdata

8. Boot into ROM:

.. code-block:: shell

    $ fastboot reboot

9. Boot into recovery:

.. code-block:: shell

    $ fastboot reboot recovery

10. Flash Specific Image:

.. code-block:: shell

    # Flashing Boot Image
    $ fastboot flash boot boot.img
    # Flashing System Image
    $ fastboot flash system system.img
    # Flashing Recovery Image
    $ fastboot flash recovery recovery.img
    # Flashing Cache
    $ fastboot flash cache cache.img
    # Flashing Modem
    $ fastboot flash modem NON-HLOS.bin
    # Flashing Trustzone
    $ fastboot flash tz tz.mbn
    # Flashing Logo
    $ fastboot flash LOGO logo.bin
    # Flashing Other Partitions
    $ fastboot flash sbl1 sbl1.mbn
    $ fastboot flash dbi sdi.mbn
    $ fastboot flash aboot emmc_appsboot.mbn
    $ fastboot flash rpm rpm.mbn

11. Unlocking Partition:

.. code-block:: shell

    # Check OEM Specific Boot Partition Lock Status
    $ fastboot oem device-info
    # Unlock OEM Specific Boot Partition
    $ fastboot oem unlock
    # Unlocking all partitions
    $ fastboot flashing unlock
    # Unlock Boot Partition
    $ fastboot flashing unlock_critical





 
